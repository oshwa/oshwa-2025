"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[636],{9510:function(e,t,r){var c=r(6540),a=r(4810),l=r(4353),n=r.n(l);t.A=e=>{let{items:t,listType:r}=e;return c.createElement(c.Fragment,null,c.createElement("div",{className:"list"},c.createElement("div",{className:"grid lg:grid-cols-4 md:grid-cols-4 gap-4"},t&&t.map(((e,t)=>c.createElement(a.Link,{key:`${e.prettyUrl}-${t}`,to:`/resources/${e.prettyUrl}`,className:"lg:col-span-1 md:col-span-2 sm:col-span-4 notched notched--border notched--border--hover list-item"},c.createElement("div",null,"blog-post"===r&&c.createElement("p",{className:"publicationDate publicationDate--blog"},n()(e.date).format("MMMM D, YYYY")),c.createElement("p",{className:"title"}," ",e.title)),("resources"===r||"resources-ref"===r)&&c.createElement(c.Fragment,null,c.createElement("p",{className:"title"},e.resourceTitle),c.createElement("p",{className:"type"},e.resourceType))))))))}},4826:function(e,t,r){r.r(t);var c=r(6540),a=r(5962),l=r(9281),n=r(9510);const u="resource-filters";t.default=e=>{let{location:t}=e;const[r,o]=(0,c.useState)(""),[s,i]=(0,c.useState)([]),p="ContentfulGlobalResourceContainer",d=e=>{if(e)return e[0].toUpperCase()+e.slice(1)},m=e=>"Academic"===e?"Academic -Non-academic":e,y=e=>{let{resourceDate:t="",resourceType:r="",resourceAudience:c="",contentfulType:a=""}=e;return`\n      ${t&&"*"!==t?`+resourceDate:${t}`:""}\n      ${r&&"*"!==r?`+resourceType:${r.split(" ").join(" +")}`:""}\n      ${c&&"*"!==c?`+resourceAudience:${c}`:""}\n      ${`+contentfulType:${a}`}\n    `},b=(0,c.useCallback)((()=>{let e=new URLSearchParams(t.search).get("year")||"*",r=new URLSearchParams(t.search).get("type")||"*",c=new URLSearchParams(t.search).get("audience")||"*";g(e),f(d(r)),h(d(c));const a=y({resourceDate:e,resourceType:r,resourceAudience:m(c),contentfulType:p});o(a)}),[t]),g=e=>{let t=document.querySelector("#publicationDate");Array.from(t.options).forEach(((r,c)=>{r.value===e&&(t.selectedIndex=c)}))},f=e=>{let t=document.querySelector("#publicationType");Array.from(t.options).forEach(((r,c)=>{r.value===e&&(t.selectedIndex=c)}))},h=e=>{let t=document.querySelector("#publicationAudience");Array.from(t.options).forEach(((r,c)=>{r.value===e&&(t.selectedIndex=c)}))},S=(0,c.useCallback)((()=>{let e=document.querySelector("#publicationDate"),t=document.querySelector("#publicationType"),r=document.querySelector("#publicationAudience"),c=JSON.parse(sessionStorage.getItem(u));c&&c.pubDateValue&&g(c.pubDateValue),c&&c.pubTypeValue&&f(c.pubTypeValue),c&&c.pubAudienceValue&&h(c.pubAudienceValue);const a=y({title:"*",resourceDate:e.value,resourceType:t.value,resourceAudience:m(r.value),contentfulType:p});o(a)}),[]);return(0,c.useEffect)((()=>{const e=window.__LUNR__.en;b(),S();const t=e.index.search(r).map((t=>{let{ref:r}=t;return e.store[r]}));i((e=>e.sort(((e,t)=>{const r=("OSHWA"===t.origin)-("OSHWA"===e.origin);return 0!==r?r:e.title.localeCompare(t.title)})))(t))}),[r,t,b,S]),c.createElement(c.Fragment,null,c.createElement(a.A,null,c.createElement(c.Fragment,null,c.createElement("div",{className:"px-8"},c.createElement("div",{className:"grid lg:grid-cols-5 md:grid-cols-5"},c.createElement("div",{className:"col-span-10 mb-5 notched notched--border"},c.createElement("h1",{className:"generic-heading-1"},"Resources")))),c.createElement(l.Q,{handleSearchQuery:()=>{let e=document.querySelector("#publicationDate"),t=document.querySelector("#publicationType"),r=document.querySelector("#publicationAudience"),c=e.value,a=t.value,l=r.value;sessionStorage.setItem(u,JSON.stringify({pubDateValue:c,pubTypeValue:a,pubAudienceValue:l}));const n=y({resourceDate:c,resourceType:a,resourceAudience:m(l),contentfulType:p});o(n)},handleClearFilters:()=>{sessionStorage.removeItem(u),document.querySelector("#publicationDate").selectedIndex=0,document.querySelector("#publicationType").selectedIndex=0,document.querySelector("#publicationAudience").selectedIndex=0,t.search="",o(y({resourceDate:"*",resourceType:"*",resourceAudience:"*",contentfulType:p}))},listType:"resources"}),c.createElement("div",{className:"resource-cards-wrapper px-8 py-4"},c.createElement(n.A,{items:s,listType:"resources"})))))}}}]);
//# sourceMappingURL=component---src-pages-resources-js-400b57c9afc39232da7f.js.map