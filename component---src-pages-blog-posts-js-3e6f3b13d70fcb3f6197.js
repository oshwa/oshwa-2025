"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[601],{9657:function(e,t,a){a.r(t);var l=a(6540),r=a(3332),n=a(4810),s=a(4353),c=a.n(s),o=a(9281);const i="blog-post-filters";t.default=e=>{let{location:t}=e;const[a,s]=(0,l.useState)(""),[d,u]=(0,l.useState)([]),m="ContentfulBlogPost",p=(0,l.useCallback)((()=>{let e=new URLSearchParams(t.search).get("year")||"*";g(e),s(`+title:* +date:${e} +contentfulType:${m}`)}),[t]),g=e=>{let t=document.querySelector("#publicationDate");Array.from(t.options).forEach(((a,l)=>{a.value===e&&(t.selectedIndex=l)}))};return(0,l.useEffect)((()=>{const e=window.__LUNR__.en;p(),(()=>{let e=document.querySelector("#publicationDate"),t=JSON.parse(sessionStorage.getItem(i));t&&t.pubDateValue&&Array.from(e.options).forEach(((a,l)=>{a.value===t.pubDateValue&&(e.selectedIndex=l)})),s(`+title:* +date:${e.value} +contentfulType:${m}`)})();const t=e.index.search(a).map((t=>{let{ref:a}=t;return e.store[a]}));u((e=>e.sort(((e,t)=>new Date(t.date)-new Date(e.date))))(t))}),[a,p]),l.createElement(l.Fragment,null,l.createElement(r.A,null,l.createElement(l.Fragment,null,l.createElement("div",{className:"px-8"},l.createElement("div",{className:"grid lg:grid-cols-5 md:grid-cols-5"},l.createElement("div",{className:"col-span-10 mb-5 notched notched--border"},l.createElement("h1",{className:"generic-heading-1"},"Blog Posts")))),l.createElement(o.Q,{handleClearFilters:()=>{sessionStorage.removeItem(i),s("+title:* +date:*"),document.querySelector("#publicationDate").selectedIndex=0,t.search=""},handleSearchQuery:()=>{let e=document.querySelector("#publicationDate").value;sessionStorage.setItem(i,JSON.stringify({pubDateValue:e})),s(`+title:* +date:${e} +contentfulType:${m}`)},listType:"blog-post"}),l.createElement("div",{className:"px-8 py-4 list"},l.createElement("div",{className:"grid grid lg:grid-cols-4 md:grid-cols-4 gap-4"},d&&d.map((e=>l.createElement(n.Link,{key:e.prettyUrl,to:`/blog-posts/${e.prettyUrl}`,className:"lg:col-span-1 md:col-span-2 sm:col-span-4 notched notched--border notched--border--hover list-item"},l.createElement("div",null,l.createElement("p",{className:"publicationDate publicationDate--blog"},c()(e.date).format("MMMM D, YYYY")),l.createElement("p",{className:"title"}," ",e.title))))))))))}}}]);
//# sourceMappingURL=component---src-pages-blog-posts-js-3e6f3b13d70fcb3f6197.js.map