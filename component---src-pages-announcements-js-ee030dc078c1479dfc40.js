"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[181],{5591:function(e,t,a){a.r(t);var l=a(6540),n=a(5962),c=a(4810),r=a(4353),s=a.n(r),o=a(9281);const d="blog-post-filters";t.default=e=>{let{location:t}=e;const[a,r]=(0,l.useState)(""),[i,u]=(0,l.useState)([]),m="ContentfulBlogPost",p=e=>{let{date:t="",contentfulType:a=""}=e;return`${t&&"*"!==t?`+date:${t}`:""} ${`+contentfulType:${a}`}`},g=(0,l.useCallback)((()=>{let e=document.querySelector("#publicationDate"),t=JSON.parse(sessionStorage.getItem(d));t&&t.date&&Array.from(e.options).forEach(((a,l)=>{a.value===t.date&&(e.selectedIndex=l)}));const a=p({date:e.value,contentfulType:m});r(a)}),[m]),f=(0,l.useCallback)((()=>{let e=new URLSearchParams(t.search).get("year")||"*",a=document.querySelector("#publicationDate");Array.from(a.options).forEach(((t,l)=>{t.value===e&&(a.selectedIndex=l)}));const l=p({date:e,contentfulType:m});r(l)}),[t,m]);return(0,l.useEffect)((()=>{const e=window.__LUNR__.en;f(),g();const t=e.index.search(a).map((t=>{let{ref:a}=t;return e.store[a]}));u((e=>e.sort(((e,t)=>new Date(t.date)-new Date(e.date))))(t))}),[a,t,f,g]),l.createElement(l.Fragment,null,l.createElement(n.A,null,l.createElement(l.Fragment,null,l.createElement("div",{className:"px-8"},l.createElement("div",{className:"grid lg:grid-cols-5 md:grid-cols-5"},l.createElement("div",{className:"col-span-10 mb-5 notched notched--border"},l.createElement("h1",{className:"generic-heading-1"},"Announcements")))),l.createElement(o.Q,{handleClearFilters:()=>{sessionStorage.removeItem(d),document.querySelector("#publicationDate").selectedIndex=0,t.search="",r(p({date:"*",contentfulType:m}))},handleSearchQuery:()=>{let e=document.querySelector("#publicationDate").value;sessionStorage.setItem(d,JSON.stringify({date:e}));const t=p({date:e,contentfulType:m});r(t)},listType:"blog-post"}),l.createElement("div",{className:"px-8 py-4 list"},l.createElement("div",{className:"grid grid lg:grid-cols-4 md:grid-cols-4 gap-4"},i&&i.map((e=>l.createElement(c.Link,{key:e.id,to:`/announcements/${e.prettyUrl}`,className:"lg:col-span-1 md:col-span-2 sm:col-span-4 notched notched--border notched--border--hover list-item"},l.createElement("div",null,l.createElement("p",{className:"publicationDate publicationDate--blog"},s()(e.date).format("MMMM D, YYYY")),l.createElement("p",{className:"title"}," ",e.title))))))))))}}}]);
//# sourceMappingURL=component---src-pages-announcements-js-ee030dc078c1479dfc40.js.map